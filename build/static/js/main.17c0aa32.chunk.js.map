{"version":3,"sources":["components/Error.js","components/Notification.js","components/Numbers.js","components/Filter.js","components/Form.js","services/persons.js","App.js","index.js"],"names":["Error","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","Person","person","handleDelete","name","number","onClick","Numbers","persons","map","id","Filter","filter","handleFilterChange","value","onChange","Form","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseURL","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","error","setError","useEffect","personService","personsToShow","toLowerCase","includes","event","target","preventDefault","newPerson","find","window","confirm","setTimeout","catch","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.17c0aa32.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n      <li>{person.name} {person.number} <button onClick={handleDelete} >delete</button></li>\r\n    )\r\n  }\r\n  \r\nconst Numbers = ({ persons, handleDelete }) => {\r\n    return (\r\n        <ul>\r\n        {persons.map(person => <Person key={person.name} person={person} handleDelete={() => handleDelete(person.id)} />)}\r\n        </ul>\r\n    )\r\n}\r\n\r\n  export default Numbers","import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange}) => {\r\n    return (\r\n      <div>\r\n        filter shown with <input value={filter} onChange={handleFilterChange} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Form = (props) =>{\r\n    return (\r\n      <form onSubmit={props.addPerson} >\r\n        <div>\r\n          name: <input value={props.newName} onChange={props.handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form","import axios from 'axios'\r\n\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseURL}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }","import React, { useState, useEffect } from 'react'\nimport Error from './components/Error'\nimport Notification from './components/Notification'\nimport Numbers from './components/Numbers'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setNewFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ error, setError ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(data => {setPersons(data)})\n  }, [])\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    if(persons.find(person => person.name === newName)){\n      if(window.confirm(`Do you really want to update phone number for ${newName}?`)){\n        personService\n          .update(persons.find(person => person.name === newName).id, newPerson)\n          .then(data => {\n            setNewName('')\n            setNewNumber('')\n            setPersons(persons.map(person => person.name === newName ? data : person))\n            setNotification(`Updated number for ${newName}`)\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error.response.data)\n            setError(error.response.data)\n            setTimeout(() => {\n              setError(null)\n            }, 5000)\n          })\n      }\n    } else \n    {\n      personService\n        .create(newPerson)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setNewName('')\n          setNewNumber('')\n          setNotification(`Added ${newName} to the phonebook`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data.error)\n          setError(`${error.response.data}`)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = (id) => {\n    if(window.confirm(`Do you really want to delete ${persons.find(person => person.id===id).name} from the phonebook?`)){\n      personService\n      .deletePerson(id)\n      .then(() => {\n        setNotification(`Deleted ${persons.find(person => person.id===id).name} from the phonebook`)\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n      .catch(error => {\n        setError(error.response.data)\n        setTimeout(() => {\n          setError(null)\n        }, 5000)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Error message={error} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new person</h3>\n      <Form addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Numbers persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}